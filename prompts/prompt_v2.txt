이 이미지는 일본어 조건청구서(条件請求書) 문서입니다.
자연어 기반 추론을 통해 다음 JSON 형식으로 구조화된 정보를 추출해주세요:

{
  "items": [
    {
      "management_id": "관리번호 - 각 행/항목마다 다른 관리번호가 있을 수 있음 (請求No, 契約No, 管理番号, 伝票番号 등). 같은 management_id가 여러 행에 있으면 각 행을 별도의 item으로 추출해야 함",
      "product_name": "상품명 (商品名, 品名, 件名 등) - 제품번호(13자리 숫자 바코드, 예: 8801043157506)가 앞에 있으면 제외하고 순수 상품명만 추출",
      "quantity": "수량 (直接的な数量が記載されている 경우のみ、数値。ケース/バラで記載されている場合は null)",
      "case_count": "ケース数 (ケース単位の数量、例: 58ケース → 58, ない場合は null)",
      "bara_count": "バラ数 (バラ単位の数量、例: 6バラ → 6, ない場合は null)",
      "units_per_case": "ケース内入数 (케이스당 개수) - 예: 12x1이면 12, 30x1이면 30, 12x2이면 24 (없으면 null)",
      "amount": "금액 (金額, 税込金額 등)",
      "customer": "항목별 거래처(최종 판매처) - 해당 항목의 거래처가 다를 수 있음 (없으면 null)"
    }
  ],
  "page_role": "페이지 역할 판단: cover(표지), detail(상세내역)"
}

**중요: items 배열에는 표의 모든 행이 포함되어야 합니다. 같은 management_id를 가진 행이 여러 개 있어도 각각 별도의 item으로 추출해야 합니다. 누락 없이 모든 행을 추출하세요.**

**절대 중복 제거 금지:**
- 원본 이미지에 있는 모든 행을 빠짐없이 추출해야 합니다.
- 완벽하게 동일한 행이 있어도 중복을 제거하지 말고 모두 items 배열에 포함시켜야 합니다.
- 원본 이미지에 표시된 아이템 개수와 items 배열의 개수가 정확히 일치해야 합니다.
- 모든 필드(management_id, product_name, quantity, case_count, bara_count, units_per_case, amount, customer 등)가 완전히 동일한 행이 여러 개 있어도 각각 별도의 item으로 추출해야 합니다.

표 구조 인식 및 위치 기반 추출:
- 문서에 표(테이블)가 있는 경우, 표의 컬럼 헤더를 먼저 인식합니다.
- 표의 각 행(行)은 하나의 item에 해당합니다.
- **중요: 같은 management_id를 가진 모든 행을 반드시 추출해야 합니다. 최상단 한 개만 추출하지 말고, 같은 management_id를 가진 모든 행을 items 배열에 포함시켜야 합니다.**
- 표의 컬럼 위치에 따라 값을 추출합니다:
  * "請求No", "契約No", "管理番号", "伝票番号" 등의 컬럼 → management_id (해당 행의 해당 컬럼 값)
  * "取引先", "得意先", "請求先", "納品先", "客先" 등의 컬럼 → customer (해당 행의 해당 컬럼 값, 위치상 맞으면 우선적으로 추출)
  * "商品名", "品名", "件名" 등의 컬럼 → product_name (해당 행의 해당 컬럼 값)
  * "ケース内入数" 컬럼 → units_per_case (해당 행의 해당 컬럼 값)
  * "数量" 컬럼의 "ケース" 하위 값 → case_count (해당 행의 해당 컬럼 값)
  * "数量" 컬럼의 "バラ" 하위 값 → bara_count (해당 행의 해당 컬럼 값)
  * "請求金額", "金額", "税込金額" 등의 컬럼 → amount (해당 행의 해당 컬럼 값)
- 표에서 "取引先" 컬럼에 있는 값은 그 위치상 거래처명이므로, 의미 판단보다 위치 정보를 우선하여 추출합니다.
- 같은 management_id를 가진 여러 행이 같은 customer 값을 공유할 수 있습니다 (그룹 단위로 표시되는 경우).
- **같은 management_id가 여러 행에 반복되는 경우, 각 행을 별도의 item으로 추출해야 합니다. 누락 없이 모든 행을 추출하세요.**

추출 가이드:
- customer는 최종 판매처(최종 소매 체인)를 중심으로 식별합니다. 예: ファミリーマート, セブンイレブン, ロピア, スーパー 등
- customer는 패밀리마트, 세븐일레븐, 슈퍼 등 최종 판매처를 중심으로 하며, 도매상(卸), 물류센터, 배송처는 customer로 분류되지 않습니다.
- 입출하센터(入出荷センター), 물류센터(物流センター), 배송처(配送先) 등의 정보는 결과에 포함되지 않습니다.
- management_id는 각 항목(items)마다 추출합니다. 한 페이지에 여러 관리번호가 있을 수 있습니다.
- 표나 테이블의 각 행마다 management_id(請求No, 契約No 등)를 추출합니다.
- **중요: 같은 management_id를 가진 여러 행이 있으면, 각 행을 별도의 item으로 추출해야 합니다. 한 개만 추출하지 말고 모든 행을 추출하세요.**
- 각 항목(items)마다 customer가 다를 수 있으므로, 항목별로 추출합니다.
- **표의 모든 행을 빠짐없이 추출해야 합니다. 같은 management_id가 반복되어도 각 행은 별도의 item입니다.**
- quantity는 직접적인 수량이 명시되어 있을 때만 숫자로 추출합니다. 예: "100個" → 100, "50本" → 50. 케이스/바라로만 표시된 경우는 null입니다.
- case_count는 케이스 수를 의미합니다. 예: "58ケース 6バラ" → case_count: 58, "67ケース 0バラ" → case_count: 67. 케이스 정보가 없으면 null입니다.
- bara_count는 바라 수를 의미합니다. 예: "58ケース 6バラ" → bara_count: 6, "67ケース 0バラ" → bara_count: 0 또는 null. 바라 정보가 없으면 null입니다.
- units_per_case(ケース内入数)는 케이스당 개수를 의미합니다. "12x1"이면 12, "30x1"이면 30, "12x2"이면 24입니다. 테이블의 "ケース内入数" 컬럼에서 추출합니다.
- product_name에서 제품번호(13자리 숫자 바코드, 예: 8801043157506)가 앞에 있으면 제거하고 순수 상품명만 추출합니다. 예: "8801043157506 ノウシン 辛ラーメン 3食" → "ノウシン 辛ラーメン 3食", "8801043030694 農心 NEW辛ラーメンカップ 68g" → "農心 NEW辛ラーメンカップ 68g"
- 표현이 다양해도 의미가 같으면 같은 필드로 인식합니다 (예: 請求No와 契約No는 모두 management_id)
- 정보가 없으면 null을 사용합니다
- JSON 형식으로만 응답하고 추가 설명은 하지 않습니다.

추가 추출 규칙:
- 표에서 "取引先" 컬럼 위치에 있는 값은 위치상 거래처명이므로 우선적으로 추출합니다. 의미 판단보다 위치 정보를 중심으로 합니다.
- customer는 최종 판매처(최종 소매 체인)를 중심으로 하며, 표의 "取引先" 컬럼에 명시된 값은 그 위치상 거래처명이므로 추출합니다.
- 도매상(卸), 물류센터, 배송코드가 있는 사업소, 입출하센터(入出荷センター), 물류센터(物流センター)는 customer로 분류되지 않습니다.
- 표의 "取引先" 컬럼에 있는 값은 위치상 거래처명이므로 추출합니다.
