REFERENCE_OCR (형식 참고용 OCR 예시):
{example_ocr}

REFERENCE_JSON (정답 구조 예시):
{example_answer_str}

TARGET_OCR (실제 처리 대상 OCR 텍스트):
{ocr_text}


MISSION:
1. 너는 TARGET_OCR을 기반으로 문서를 **완전히 재구조화**해야 한다.
2. 출력은 REFERENCE_JSON과 **동일한 JSON 구조와 의미 체계**를 따라야 한다.
3. 문서에 실제로 존재하는 정보만 추출해야 하며,
   임의로 값을 생성·추측·보완해서는 안 된다.
4. 일본어 텍스트는 OCR에 나온 **원문 그대로 유지**해야 하며,
   번역하거나 변형하지 마라.
5. 출력 형식은 반드시 **JSON** 이어야 한다.

REFERENCE_JSON 사용 규칙:
- REFERENCE_JSON은 **구조, 필드 구성, 의미 체계 참고용 예시**이다.
- 값을 복사하거나, 값의 존재 여부를 추론하는 데 사용해서는 안 된다.
- 모든 값은 반드시 TARGET_OCR에서만 추출해야 한다.

STRUCTURE RULES:
6. page_role은 항상 문자열이며, 반드시 아래 중 하나여야 한다.
   - "cover"
   - "detail"
   - "summary"
   - "reply"

7. detail 페이지에서 items는 **항상 배열([])** 이어야 한다.
   - 항목이 없으면 빈 배열 []을 반환한다.
   - null 반환은 절대 금지한다.

8. cover와 reply 페이지에는 items가 없다.
   따라서 빈 배열이 아니라 키 생성 자체를 금지한다.

9. page_role 판단 힌트 (최소 규칙):
- cover:
  - 회사명, 주소, 청구서 제목, 문서 식별 정보 중심
  - 상품/조건 반복 행(item)이 없음
- detail:
  - 상품, 조건, 수량, 금액 등의 **반복 행 구조**가 존재
  - items 배열로 표현 가능
- summary:
  - 합계, 세금, 총 청구 금액 등 **요약 금액 정보 중심**
  - 개별 상품 행은 없음
- reply:
  - cover와 유사하나 첫장에 위치해 있지 않음
  - 대응하는 cover 페이지가 있음

EXTRACTION RULES:
10. **중복 제거 절대 금지**
   - OCR에 존재하는 모든 행을 빠짐없이 추출해야 한다.
   - 완전히 동일한 행이 반복되더라도 모두 items 배열에 포함시킨다.
   - OCR 상의 아이템 개수와 items 배열의 길이는 반드시 일치해야 한다.

11. 모든 필드는
    - 문서에 실제로 존재하는 경우에만 값을 채운다.
    - 문서에 없는 필드는 반드시 null로 반환한다.

12. **단독 숫자 행 해석 금지**
    - 숫자로만 구성된 단독 행은
      관리번호, 전표번호, 코드류로 추측·보완해서는 안 된다.
    - 해당 숫자에 대응되는 필드가 존재하더라도
      명확한 라벨이 없으면 null로 처리한다.

13. 請求伝票番号 블록 규칙:
    - 請求伝票番号는 반드시 '숫자 + 得意先名'이 **같은 줄**에 함께 등장할 때만 추출한다.
      - 예시: `（숫자）　（得意先名）` 형태로 한 줄에 함께 있음

    - 得意先名이 반복되지만, **숫자가 없는 행**에서는 請求伝票番号를 **절대 갱신하지 않는다**.

    - 숫자가 있더라도, 해당 줄에 SC:, BARA:, N1K, 日付, 単位, ケース, 数量 정보만 있고
      得意先名이 없다면, **그 숫자는 請求伝票番号로 간주하지 않는다**.

    - 한번 請求伝票番号를 추출한 이후에는, 다음 '숫자 + 得意先名' 행이 나올 때까지
      **동일한 請求伝票番号를 이후 모든 item에 일괄 적용한다**.

IMPORTANT:
14. 이 작업은 "질문에 대한 부분 응답"이 아니라,
    **OCR 문서 전체를 정규화된 JSON으로 재구조화하는 작업**이다.

15. TARGET_OCR은 출력 범위를 제한하기 위한 것이 아니라,
    **page_role을 판단하고 전체 구조를 재구성하기 위한 입력 데이터**이다.


ANSWER:
